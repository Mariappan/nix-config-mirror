# https://wiki.hyprland.org/Configuring/

### WINDOWS AND WORKSPACES ###

windowrule = opaque, class:foot|equibop|org\.quickshell|imv|swappy  # They use native transparency or we want them opaque
windowrule = center 1, floating:1, xwayland:0  # Center all floating windows (not xwayland cause popups)


windowrulev2 = float, title:(1Password)
windowrulev2 = center, title:(1Password)
windowrulev2 = stayfocused, title:(1Password)

windowrulev2 = float, class:(firefox), title:(Page Info - )(.*)
windowrulev2 = size 60% 70%, class:(firefox), title:(Page Info - )(.*)

windowrulev2 = float, title:(MainPicker)
windowrulev2 = float, class:(VirtualBox )(.*)
windowrulev2 = float,class:^(google-chrome)$,title:^(Meet - )(.*)$

windowrulev2 = suppressevent maximize, class:.* # You'll probably like this.

windowrulev2 = float,class:^(firefox)$,title:^(Picture-in-Picture)$
windowrulev2 = float,class:^(firefox)$,title:^(Library)$
windowrulev2 = float,class:^(org.wezfurlong.wezterm)$,title:^(btop)$
windowrulev2 = float,class:^(org.wezfurlong.wezterm)$,title:^(htop)(.*)
windowrulev2 = float,class:^(vlc)$
windowrulev2 = float,class:^(qt5ct)$
windowrulev2 = float,class:^(qt6ct)$
windowrulev2 = float,class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float,class:^(blueman-manager)$
windowrulev2 = float,class:^(nm-applet)$
windowrulev2 = float,class:^(nm-connection-editor)$
windowrulev2 = float,class:^(org.kde.dolphin)$,title:^(Progress Dialog — Dolphin)$
windowrulev2 = float,class:^(org.kde.dolphin)$,title:^(Copying — Dolphin)$
windowrulev2 = float,class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = float,class:^(Safeeyes)$

windowrulev2 = float,class:^(imv)$ # Imageviewer

windowrulev2 = float,class:^(xdg-desktop-portal-gtk)$,title:^(All Files)$
windowrulev2 = float,class:^(org.quickshell)$,title:^(Select a profile picture)$
windowrulev2 = float,class:^(spotify)$

# Screen sharing windows by browsers
windowrulev2 = float, title:(Select what to share)
windowrulev2 = center, title:(Select what to share)

# for nasty Vivaldi custom fallback notifications
windowrulev2 = float,class:^()$,title:^()$

# Special workspaces
windowrule = workspace special:sysmon, class:btop
windowrule = workspace special:music, class:feishin|Spotify|Supersonic
windowrule = workspace special:music, initialTitle:Spotify( Free)?  # Spotify wayland, it has no class for some reason
windowrule = workspace special:communication, class:discord|equibop|vesktop|whatsapp
windowrule = workspace special:todo, class:Todoist

# Dialogs
windowrule = float, title:(Select|Open)( a)? (File|Folder)(s)?
windowrule = float, title:File (Operation|Upload)( Progress)?
windowrule = float, title:.* Properties
windowrule = float, title:Export Image as PNG
windowrule = float, title:GIMP Crash Debug
windowrule = float, title:Save As
windowrule = float, title:Library

# Picture in picture (resize and move done via script)
windowrule = move 100%-w-2% 100%-w-3%, title:Picture(-| )in(-| )[Pp]icture  # Initial move so window doesn't shoot across the screen from the center
windowrule = keepaspectratio, title:Picture(-| )in(-| )[Pp]icture
windowrule = float, title:Picture(-| )in(-| )[Pp]icture
windowrule = pin, title:Picture(-| )in(-| )[Pp]icture

# Ugh xwayland popups
windowrule = nodim, xwayland:1, title:win[0-9]+
windowrule = noshadow, xwayland:1, title:win[0-9]+
windowrule = rounding 10, xwayland:1, title:win[0-9]+


# █   ▄▀█ █▄█ █▀▀ █▀█   █▀█ █ █ █   █▀▀ █▀
# █▄▄ █▀█  █  ██▄ █▀▄   █▀▄ █▄█ █▄▄ ██▄ ▄█

layerrule = blur,rofi
layerrule = ignorezero,rofi
layerrule = blur,notifications
layerrule = ignorezero,notifications
layerrule = blur,swaync-notification-window
layerrule = ignorezero,swaync-notification-window
layerrule = blur,swaync-control-center
layerrule = ignorezero,swaync-control-center
layerrule = blur,logout_dialog
layerrule = blur,org.wezfurlong.wezterm
layerrule = blur,wezterm

# ######## Layer rules ########
layerrule = animation fade, hyprpicker  # Colour picker out animation
layerrule = animation fade, logout_dialog  # wlogout
layerrule = animation fade, selection  # slurp
layerrule = animation fade, wayfreeze

# Shell
layerrule = noanim, caelestia-(border-exclusion|area-picker)
layerrule = animation fade, caelestia-(drawers|background)

layerrule = blur, caelestia-drawers
layerrule = ignorealpha 0.57, caelestia-drawers
